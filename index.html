<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataExtract AI - –ö—Ä–∞—Å–∏–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="./assets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>

</head>
<body data-theme="light">
    <!-- Header -->
    <header class="header fade-in">
        <div class="logo">DataExtract AI ‚ú®</div>
        <div class="header-controls">
            <select class="language-select" id="languageSelect">
                <option value="en">EN</option>
                <option value="ru">RU</option>
                <option value="pl">PL</option>
                <option value="by">BY</option>
            </select>
            <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                <span id="themeIcon">üåô</span>
            </button>
            <button class="btn export-all-btn" id="exportAllBtn">
                üì¶ Export All
            </button>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar fade-in" id="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title" data-i18n="recent">Recent Extractions</div>
                <div id="recentList" class="sidebar-section">
                    <div class="sidebar-item" data-i18n="no-recent">No recent extractions</div>
                </div>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title" data-i18n="templates">Templates</div>
                <button class="sidebar-item" data-template="table" data-i18n="template-table">Table Structure</button>
                <button class="sidebar-item" data-template="flowchart" data-i18n="template-flowchart">Flowchart/Diagram</button>
                <button class="sidebar-item" data-template="form" data-i18n="template-form">Form Fields</button>
                <button class="sidebar-item" data-template="chart" data-i18n="template-chart">Chart/Graph</button>
                <button class="sidebar-item" data-template="mindmap" data-i18n="template-mindmap">Mind Map</button>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title" data-i18n="settings">Settings</div>
                <div class="settings-panel">
                    <div class="settings-group">
                        <label class="settings-label" data-i18n="ocr-language">OCR Language:</label>
                        <select class="input" id="ocrLanguage">
                            <option value="eng">English</option>
                            <option value="rus">Russian</option>
                            <option value="pol">Polish</option>
                            <option value="bel">Belarusian</option>
                            <option value="deu">German</option>
                            <option value="fra">French</option>
                            <option value="spa">Spanish</option>
                        </select>
                    </div>
                    
                    <div class="settings-group">
                        <label class="settings-label" data-i18n="ocr-accuracy">OCR Accuracy:</label>
                        <input type="range" class="slider" id="ocrAccuracy" min="1" max="3" value="2">
                        <div class="text-center font-mono" id="accuracyValue">Medium</div>
                    </div>
                    
                    <div class="settings-group">
                        <label class="settings-label" data-i18n="output-format">Default Output:</label>
                        <select class="input" id="defaultFormat">
                            <option value="json">JSON</option>
                            <option value="yaml">YAML</option>
                            <option value="csv">CSV</option>
                        </select>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-area">
            <!-- Upload Zone -->
            <section class="upload-zone slide-up">
                <div class="card scale-in">
                    <h2 data-i18n="upload-title">Upload&Analyze</h2>
                    <p data-i18n="upload-subtitle">Drop any image with tables, diagrams, or text to extract structured data</p>
                </div>

                <!-- Drag & Drop Zone -->
                <div class="dropzone fade-in" id="dropzone">
                    <div class="dropzone-icon">üìÑ</div>
                    <div class="dropzone-text" data-i18n="drop-text">Drop image here or click to upload</div>
                    <div class="dropzone-subtext" data-i18n="drop-subtext">Supports PNG, JPG, PDF, Excel screenshots, and more</div>
                    <div class="supported-formats">
                        <span class="format-tag">PNG</span>
                        <span class="format-tag">JPG</span>
                        <span class="format-tag">PDF</span>
                        <span class="format-tag">WEBP</span>
                        <span class="format-tag">GIF</span>
                    </div>
                    <input type="file" id="fileInput" multiple accept="image/*,.pdf" class="sr-only">
                </div>

                <!-- File Preview -->
                <div id="previewSection" class="hidden">
                    <h3 data-i18n="preview-title">Image Preview</h3>
                    <div class="preview-container" id="previewContainer"></div>
                </div>

                <!-- File List -->
                <div id="fileListSection" class="hidden">
                    <h3 data-i18n="files-title">Uploaded Files</h3>
                    <div class="file-list" id="fileList"></div>
                </div>

                <!-- Analysis Section -->
                <div class="analysis-section" id="analysisSection">
                    <h3 data-i18n="analysis-title">Analysis</h3>
                    <button class="btn btn--primary w-full" id="analyzeBtn" disabled>
                        üîç <span data-i18n="analyze-btn">Analyze Images</span>
                    </button>
                    
                    <div id="progressSection" class="hidden">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-text" id="progressText">Ready to analyze...</div>
                        
                        <div class="analysis-steps">
                            <div class="step" id="stepDetection" data-i18n="step-detection">Content Detection</div>
                            <div class="step" id="stepOCR" data-i18n="step-ocr">OCR Processing</div>
                            <div class="step" id="stepParsing" data-i18n="step-parsing">Structure Parsing</div>
                            <div class="step" id="stepJSON" data-i18n="step-json">JSON Generation</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Output Zone -->
            <section class="output-zone slide-up">
                <div class="card scale-in">
                    <h2 data-i18n="output-title">Structured Output</h2>
                    <p data-i18n="output-subtitle">Edit, validate, and export your extracted data</p>
                </div>

                <!-- Format Toggle -->
                <div class="format-toggle slide-up">
                    <button class="format-btn active" data-format="json">JSON</button>
                    <button class="format-btn" data-format="yaml">YAML</button>
                    <button class="format-btn" data-format="csv">CSV</button>
                    <button class="format-btn" data-format="xml">XML</button>
                </div>

                <!-- Monaco Editor -->
                <div class="editor-container fade-in">
                    <div class="editor-toolbar">
                        <div class="editor-title">JSON Editor</div>
                        <div class="editor-controls">
                            <button class="editor-btn" id="copyBtn">üìã Copy</button>
                            <button class="editor-btn" id="validateBtn">‚úì Validate</button>
                            <button class="editor-btn" id="downloadBtn">üíæ Download</button>
                            <button class="editor-btn" id="prettifyBtn">‚ú® Prettify</button>
                        </div>
                    </div>
                    <div id="monaco-editor"></div>
                </div>

                <!-- Stats & Info -->
                <div class="card">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-mono" id="statsText">Lines: 0 | Characters: 0</div>
                        </div>
                        <div class="flex gap-1">
                            <button class="btn btn--small" id="clearBtn" data-i18n="clear-btn">Clear</button>
                            <button class="btn btn--small btn--success" id="addToHistoryBtn" data-i18n="save-btn">Save to History</button>
                        </div>
                    </div>
                </div>

                <!-- History Section -->
                <div id="historySection">
                    <h3 data-i18n="history-title">Recent Results (Last 5)</h3>
                    <div class="history-container" id="historyContainer">
                        <div class="history-item">
                            <div class="history-date">No results yet</div>
                            <div class="history-type">Upload and analyze images to see results</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer Info -->
    <div class="footer-info">
        <div data-i18n="footer-free">üÜì No limits ‚Ä¢ No API keys ‚Ä¢ Fully free</div>
    </div>

    <script src="./assets/script.js"></script>
</body>
</html>
